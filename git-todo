#!/bin/sh
set -e
  GIT_OPTS=""
  OUTPUT_FILTER="cat" # no-op
  commit_id_format=$(tput setaf 1)
  date_format=$(tput bold; tput setaf 4)
  author_format=$(tput setaf 2)
  ref_name_format=$(tput setaf 3)
  bold=$(tput bold)
  reset=$(tput sgr0)

list()
{
  IFS=""
  todos=$(git notes show | grep @todo | sed -e 's/@todo/\\t-/')
  dones=$(git notes show | grep @done | sed -e 's/@done/\\t-/')

  echo "$author_format\t@done$reset"
  echo ${dones}
  echo
  echo "$commit_id_format\t@todo$reset"
  echo ${todos}
}

list
